#!/bin/sh
set -eu

./main.py \
    --save_embeddings_as_csv True \
    --path_dataset_folder="$(enexa-parameter "http://example.org/dicee/parameters/path_dataset_folder")" \
    --model="$(enexa-parameter "http://example.org/dicee/parameters/model")" \
    --num_epochs="$(enexa-parameter "http://example.org/dicee/parameters/num_epochs")" \
    --embedding_dim="$(enexa-parameter "http://example.org/dicee/parameters/embedding_dim")" \
    --absolute_path_to_store=Experiment

enexa-add-file Experiment/configuration.json
enexa-add-file Experiment/constraints.p
enexa-add-file Experiment/ee_vocab.p
enexa-add-file Experiment/entity_to_idx.p
enexa-add-file Experiment/epoch_losses.csv
enexa-add-file Experiment/er_vocab.p
enexa-add-file Experiment/eval_report.json
enexa-add-file Experiment/model.pt "http://example.org/dicee/parameters/model.pt"
enexa-add-file Experiment/re_vocab.p
enexa-add-file Experiment/relation_to_idx.p
enexa-add-file Experiment/report.json
enexa-add-file Experiment/test_set.npy
enexa-add-file Experiment/train_set.npy
enexa-add-file Experiment/valid_set.npy
enexa-add-file Experiment/*_entity_embeddings.csv "http://example.org/dicee/parameters/entity_embeddings.csv"
